<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatRoom - No Phone Required</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div id="app">
        <!-- Navigation Bar -->
        <nav id="navbar" class="navbar hidden">
            <div class="nav-container">
                <div class="nav-brand">
                    <i class="fas fa-comments"></i>
                    <span>ChatRoom</span>
                </div>
                <div class="nav-actions">
                    <button id="settingsBtn" class="nav-btn" title="Settings">
                        <i class="fas fa-cog"></i>
                    </button>
                    <button id="leaveRoomBtn" class="nav-btn" title="Leave Room">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main id="main-content">
            <!-- Home Page -->
            <div id="home-page" class="page active">
                <div class="container">
                    <div class="hero-section">
                        <div class="hero-content">
                            <h1 class="hero-title">
                                <i class="fas fa-comments"></i>
                                Welcome to ChatRoom
                            </h1>
                            <p class="hero-subtitle">
                                Join conversations instantly with just a room code. No phone number required!
                            </p>
                        </div>

                        <div class="action-cards">
                            <div class="card action-card" id="joinRoomCard">
                                <div class="card-icon">
                                    <i class="fas fa-sign-in-alt"></i>
                                </div>
                                <h3>Join Room</h3>
                                <p>Enter a room code to join an existing conversation</p>
                                <button class="btn btn-primary">Join Now</button>
                            </div>

                            <div class="card action-card" id="createRoomCard">
                                <div class="card-icon">
                                    <i class="fas fa-plus-circle"></i>
                                </div>
                                <h3>Create Room</h3>
                                <p>Start a new conversation and invite others</p>
                                <button class="btn btn-secondary">Create Room</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Join Room Page -->
            <div id="join-page" class="page">
                <div class="container">
                    <div class="form-container">
                        <div class="form-header">
                            <button id="backToHome" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <h2>Join Room</h2>
                        </div>

                        <form id="joinForm" class="chat-form">
                            <div class="form-group">
                                <label for="roomCode">Room Code</label>
                                <input
                                    type="text"
                                    id="roomCode"
                                    placeholder="Enter 6-character room code (e.g., ABC123)"
                                    maxlength="6"
                                    required
                                >
                                <small class="form-help">Room codes are 6 characters long (letters and numbers)</small>
                            </div>

                            <div class="form-group">
                                <label for="username">Your Name</label>
                                <input
                                    type="text"
                                    id="username"
                                    placeholder="Enter your display name"
                                    maxlength="20"
                                    required
                                >
                            </div>

                            <button type="submit" class="btn btn-primary btn-full">
                                <i class="fas fa-sign-in-alt"></i>
                                Join Room
                            </button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Create Room Page -->
            <div id="create-page" class="page">
                <div class="container">
                    <div class="form-container">
                        <div class="form-header">
                            <button id="backToHomeFromCreate" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <h2>Create Room</h2>
                        </div>

                        <div class="room-creation">
                            <div class="generated-room">
                                <h3>Your Room Code</h3>
                                <div class="room-code-display">
                                    <span id="generatedRoomCode">ABC123</span>
                                    <button id="copyRoomCode" class="copy-btn" title="Copy to clipboard">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                </div>
                                <p class="room-code-help">Share this code with others to invite them to your room</p>
                            </div>

                            <form id="createForm" class="chat-form">
                                <div class="form-group">
                                    <label for="creatorUsername">Your Name</label>
                                    <input
                                        type="text"
                                        id="creatorUsername"
                                        placeholder="Enter your display name"
                                        maxlength="20"
                                        required
                                    >
                                </div>

                                <button type="submit" class="btn btn-primary btn-full">
                                    <i class="fas fa-plus-circle"></i>
                                    Create & Enter Room
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat Room Page -->
            <div id="chat-page" class="page">
                <div class="chat-container">
                    <!-- Chat Header -->
                    <div class="chat-header">
                        <div class="room-info">
                            <h3>Room: <span id="currentRoomCode">ABC123</span></h3>
                            <span id="onlineCount" class="online-count">
                                <i class="fas fa-circle online-indicator"></i>
                                3 online
                            </span>
                        </div>
                    </div>

                    <!-- Chat Messages Area -->
                    <div id="messagesContainer" class="messages-container">
                        <!-- Messages will be dynamically added here -->
                    </div>

                    <!-- Typing Indicator -->
                    <div id="typingIndicator" class="typing-indicator hidden">
                        <span class="typing-text">Someone is typing...</span>
                        <div class="typing-dots">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>

                    <!-- Message Input -->
                    <div class="message-input-container">
                        <form id="messageForm" class="message-form">
                            <div class="input-group">
                                <input
                                    type="text"
                                    id="messageInput"
                                    placeholder="Type your message..."
                                    maxlength="500"
                                    autocomplete="off"
                                >
                                <button type="submit" class="send-btn" disabled>
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Settings Page -->
            <div id="settings-page" class="page">
                <div class="container">
                    <div class="form-container">
                        <div class="form-header">
                            <button id="backToChatFromSettings" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <h2>Settings</h2>
                        </div>

                        <div class="settings-content">
                            <div class="setting-group">
                                <h3>Appearance</h3>
                                <div class="setting-item">
                                    <label for="darkMode">Dark Mode</label>
                                    <input type="checkbox" id="darkMode" class="toggle-switch">
                                </div>
                            </div>

                            <div class="setting-group">
                                <h3>Notifications</h3>
                                <div class="setting-item">
                                    <label for="soundNotifications">Sound Notifications</label>
                                    <input type="checkbox" id="soundNotifications" class="toggle-switch" checked>
                                </div>
                            </div>

                            <div class="setting-group">
                                <h3>About</h3>
                                <p class="about-text">
                                    ChatRoom v1.0 - A simple, no-registration chat application.
                                    Built with HTML, CSS, and JavaScript.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Loading Overlay -->
        <div id="loadingOverlay" class="loading-overlay hidden">
            <div class="loading-spinner">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Connecting...</p>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div id="toastContainer" class="toast-container"></div>
    </div>

    <!-- Scripts -->
    <script src="js/utils.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/websocket-service.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
